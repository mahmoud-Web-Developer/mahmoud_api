========================================
   تعليمات الرفع اليدوي
========================================

## المشكلة الحالية
واجهة الاختبار التفاعلية تظهر خطأ "Token is not valid" في جميع الأقسام.

## التصحيحات المطلوبة

### 1. إصلاح JWT Secret
تم إصلاح ملف: mahmoud_api/middleware/authMiddleware.js
التغيير: استخدام نفس الـ secret key في middleware و controller

### 2. إضافة مستخدم Admin
تم إضافة مستخدم admin في: mahmoud_api/data/dummyData.js
البيانات:
- Username: admin
- Password: admin123
- Role: admin

### 3. إضافة Middleware المصادقة
تم إضافة middleware المصادقة للـ routes المحمية:
- mahmoud_api/routes/dashboard.js
- mahmoud_api/routes/clients.js
- mahmoud_api/routes/requests.js

## الأوامر المطلوبة للرفع

### 1. إضافة الملفات:
```bash
git add .
```

### 2. إنشاء commit:
```bash
git commit -m "fix: إصلاح مشكلة المصادقة وإضافة مستخدم admin"
```

### 3. رفع التغييرات:
```bash
git push origin main
```

### 4. أو إذا كان الفرع الرئيسي مختلف:
```bash
git push origin master
```

## اختبار التصحيحات

### 1. اختبار المصادقة:
```powershell
.\test-auth.ps1
```

### 2. اختبار الاتصال:
```powershell
.\test-api-connection.ps1
```

### 3. اختبار واجهة الاختبار التفاعلية:
افتح المتصفح واذهب إلى: https://mahmoudapi-production.up.railway.app

## بيانات تسجيل الدخول
- Username: admin
- Password: admin123

## الـ APIs المحمية
- /dashboard - لوحة التحكم
- /clients - العملاء
- /requests/contact - بدء طلب تواصل
- /requests/meeting - بدء طلب اجتماع
- /requests/brief - بدء طلب Brief

## الـ Base URL
https://mahmoudapi-production.up.railway.app

## الملفات المحدثة
1. mahmoud_api/middleware/authMiddleware.js
2. mahmoud_api/data/dummyData.js
3. mahmoud_api/routes/dashboard.js
4. mahmoud_api/routes/clients.js
5. mahmoud_api/routes/requests.js
6. test-auth.ps1
7. push-auth-fix.ps1

## بعد الرفع
Railway سيقوم بالنشر التلقائي خلال 2-5 دقائق.
ثم يمكن اختبار واجهة الاختبار التفاعلية.

======================================== 